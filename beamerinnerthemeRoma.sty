%*************************************************
%
% Roma Beamer Theme - Claudio Fiandrino
%
%*************************************************

\mode<presentation>

% Margins
\newlength{\beamer@Roma@mid}
\setlength{\beamer@Roma@mid}{0.5\paperheight}
\newlength{\beamer@Roma@sep}
\setlength{\beamer@Roma@sep}{0.45\paperheight}
\newlength{\beamer@Roma@normalmargin}
\setlength{\beamer@Roma@normalmargin}{.06\paperwidth}
\setbeamersize{text margin left=\beamer@Roma@normalmargin}
\setbeamersize{text margin right=\beamer@Roma@normalmargin}
\setlength\leftmargini{.6\beamer@Roma@normalmargin}
\setlength\leftmarginii{.6\beamer@Roma@normalmargin}
\setlength\leftmarginiii{.6\beamer@Roma@normalmargin}

% Logo
\def\beamer@Roma@logo{logo-sap}
\pgfdeclareimage[interpolate=true,width=3cm,height=1cm]{logo}{\beamer@Roma@logo}

\setbeamertemplate{background}{
  \begin{tikzpicture}
  \useasboundingbox (0,0) rectangle (\the\paperwidth,\the\paperheight); 
  \fill[blueRoma] (0-\beamer@Roma@normalmargin,\the\paperheight)--(\the\paperwidth,\the\paperheight)--(\the\paperwidth,\beamer@Roma@mid)--(3\beamer@Roma@normalmargin,\beamer@Roma@mid)--(3\beamer@Roma@normalmargin,\beamer@Roma@sep)--(0-\beamer@Roma@normalmargin,\beamer@Roma@sep)--(0-\beamer@Roma@normalmargin,\the\paperheight);
  \fill[redRoma] (0-\beamer@Roma@normalmargin,0)--(0-\beamer@Roma@normalmargin,\beamer@Roma@sep)--(3\beamer@Roma@normalmargin,\beamer@Roma@sep)--(3\beamer@Roma@normalmargin,\beamer@Roma@mid)--(\the\paperwidth,\beamer@Roma@mid)--(\the\paperwidth,0)--(0-\beamer@Roma@normalmargin,0);
  \pgftext[at=\pgfpoint{2\beamer@Roma@normalmargin}{0.7\beamer@Roma@sep},left,base]{\pgfuseimage{logo}};
  \ifnum\thepage>1\relax%
  \useasboundingbox (0,0) rectangle (\the\paperwidth,\the\paperheight);
      \fill[white, opacity=1](0-\beamer@Roma@normalmargin,\the\paperheight)--(\the\paperwidth,\the\paperheight)--(\the\paperwidth,0)--(0,0)--(0-\beamer@Roma@normalmargin,\the\paperheight);
       \fill[redRoma] (0-\beamer@Roma@normalmargin,0)--(0-\beamer@Roma@normalmargin,0.05\paperheight)--(2\beamer@Roma@normalmargin,0.05\paperheight)--(2\beamer@Roma@normalmargin,0.07\paperheight)--(\the\paperwidth,0.07\paperheight)--(\the\paperwidth,0)--(0-\beamer@Roma@normalmargin,0);
  \fi
  \end{tikzpicture}

}

% Title page
\defbeamertemplate*{title page}{Roma}[1][]
{ 
  \begin{centering}
    \begin{beamercolorbox}[wd=\paperwidth,sep=8pt,center,#1]{title page header}
      \usebeamerfont{title}\inserttitle\par%
      \ifx\insertsubtitle\@empty%
      \else%
        \vskip0.25em%
        {\usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle\par}%
      \fi%     
    \end{beamercolorbox}%
    \vskip1em\par
    \begin{beamercolorbox}[sep=8pt,center,#1]{author}
      \usebeamerfont{author}\insertauthor
    \end{beamercolorbox}
    \vskip5cm\par
    \begin{beamercolorbox}[sep=8pt,center,#1]{date}
      \usebeamerfont{date}\insertdate
    \end{beamercolorbox}
  \end{centering}
  \vfill
}

% Items
\setbeamertemplate{items}[ball]
\setbeamertemplate{sections/subsections in toc}[ball]


\mode<all>

